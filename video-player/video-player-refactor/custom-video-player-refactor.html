<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    
    <style>
      .video-playlist-section { display: flex; margin: 30px 0; padding: 20px; border: 1px solid lightgrey; }
      
      .featured-video-container { flex: 8; width: 100%; }
      .vid-iframe { width: 700px; height: 395px; }
      
      .video-library-container { flex: 5; max-height: 450px; overflow-y: scroll; padding: 15px; background-color: #f9f9f9; border: 1px solid lightgrey; }
      .video-library-container .vp-single-container { margin: 20px 0; }
      .video-library-container .vp-single-container:first-of-type { margin-top: 0; }
      .video-library-container .vp-single-inner { display: grid; grid-template-columns: 1fr 1fr; }
      .vid-img { width: 100%; }
      .vp-text-container {  }
      .vid-title { margin: 0; padding: 0 5px }
      .vid-desc { margin: 0; padding: 5px; }
    
/*
    .video-library-container { overflow-y: scroll; }

    .video-playlist-section { display: flex; margin: 30px 0; padding: 20px; border: 1px solid lightgrey; }

    .vp-featured { flex: 1.5; }
    .vp-featured-inner { display: flex; flex-direction: column; }
    .vp-featured-inner > p > iframe { padding-bottom: 15px; }
    .vp-featured-text { display: flex; flex-direction: column; }
    .vid-title-first, .vid-title { padding-bottom: 8px; }
    .vp-featured-text > p { font-size: 16px; max-width: 560px; }

    .video-library-container { max-height: 350px; display: flex; flex-direction: column; flex: 1; justify-content: flex-start; border: 1px solid lightgrey; background-color: #F5F5F5; padding: 8px;}
    .video-library-container .vp-single-container { display: flex; flex-direction: row; align-items: flex-start; }
    .video-library-container .vp-text-container { display: flex; flex-direction: column; }
    .vp-on-deck-inner > p > img { margin-right: 15px; }
    .vp-on-deck-inner-text > p { font-size: 16px; }

    .vid-iframe { cursor: pointer; border: 2px solid transparent; box-sizing: border-box; transition: 350ms; }

    .video-active { border: 2px solid darkorange; transition: 350ms; }

    .vp-featured .image-popup-vid { width: 560px; }
    .vp-on-deck-wrapper .image-popup-vid { width: 187px; }

    @media(max-width: 600px) {
      .video-playlist-section { flex-direction: column; }
      #vid-popup-1 { width: 100%; }
      .vp-on-deck-wrapper { overflow-y: initial; max-height: fit-content; }
      .vp-on-deck-inner { flex-direction: column; }
    }
*/
    
    </style>
    
</head>
<body>
    
  <!-- Video Playlist Container -->
  <div class="video-playlist-section" id="video-playlist-section"></div>


  <!--jQuery-->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  
  <script>
    
  //-- DATA For Videos --//
  // Initial featured video must but placed in position 0 and 1 with id: 1 and id: 2
  const videoData = [
    {
      url: 'https://player.vimeo.com/video/698679588?h=359002b90d',
      title: 'Trabajando con Inquilinos',
      description: '¿Qué aprenderás en este taller?: Como usar las redes sociales para buscar Inquilinos, Como conducir una entrevista com los Inquilinos, Como negociar los mejores términos para tus clients, 4 Técnicas para mostrar propiedades, Desarrollo de la transacción de renta de principio a fin, y muchas cosas más',
      imageURL: 'https://www.hondros.com/wp-content/uploads/2022/04/jose-velasquez-explorando-bienes-raices.png',
      id: 1
    },
    {
      url: 'https://player.vimeo.com/video/698679588?h=359002b90d',
      title: 'Trabajando con Inquilinos',
      description: '¿Qué aprenderás en este taller?: Como usar las redes sociales para buscar Inquilinos, Como conducir una entrevista com los Inquilinos, Como negociar los mejores términos para tus clients, 4 Técnicas para mostrar propiedades, Desarrollo de la transacción de renta de principio a fin, y muchas cosas más',
      imageURL: 'https://www.hondros.com/wp-content/uploads/2022/04/jose-velasquez-explorando-bienes-raices.png',
      id: 2
    },
    {
      url: 'https://player.vimeo.com/video/698679349?h=d7f770ec95',
      title: 'Trabajando con Compradores',
      description: '¿Qué aprenderás en este taller?: Uso de las redes sociales para encontrar clients, Como Presentar y Negociar las ofertas, Como convertir clientes potenciales en citas, La entrevista con el comprador, y muchas cosas más.',
      imageURL: 'https://www.hondros.com/wp-content/uploads/2022/04/jose-velasquez-explorando-bienes-raices-2.png',
      id: 3 
    },
    {
      url: 'https://player.vimeo.com/video/698680002?h=ce5bf0faa2',
      title: 'Tu Marca Personal',
      description: '¿Qué aprenderás en este taller?: Como crear tu Marca personal y tu presencia en línea, Siete estrategias para vender sin vender en redes sociales, Establecer tu Misión como agente inmobiliario, Redactar tu comercial personal de 20 segundos,  y muchas cosas más',
      imageURL: 'https://www.hondros.com/wp-content/uploads/2022/04/jose-velasquez-explorando-bienes-raices.png',
      id: 4
    },
    {
      url: 'https://player.vimeo.com/video/698679105?h=10dfc6ede0',
      title: 'Trabajando con Vendedores',
      description: '¿Qué aprenderás en este taller?: Tres estrategias para encontrar clients, Pasos antes de tomar una propiedad para vender, La entrevista con el propietario “Listing presentation”, Como responder correctamente a las objeciones, y mucho cosas más',
      imageURL: 'https://www.hondros.com/wp-content/uploads/2022/04/jose-velasquez-explorando-bienes-raices-2.png',
      id: 5
    },
    {
      url: 'https://player.vimeo.com/video/698679105?h=10dfc6ede0',
      title: 'Trabajando con Vendedores',
      description: '¿Qué aprenderás en este taller?: Tres estrategias para encontrar clients, Pasos antes de tomar una propiedad para vender, La entrevista con el propietario “Listing presentation”, Como responder correctamente a las objeciones, y mucho cosas más',
      imageURL: 'https://www.hondros.com/wp-content/uploads/2022/04/jose-velasquez-explorando-bienes-raices-2.png',
      id: 9
    }
  ];
    
  // Build Video Player HTML //
  const videoPlayerContainer = document.querySelector('#video-playlist-section');

  let videoPlayerTemplate = ``;

  const buildVideoPlayerHTML = function() {

    videoData.forEach((el, i) => {
      videoPlayerTemplate += `
        ${el.id === 1 ? `<div class="featured-video-container">` : ''}
        ${el.id === 2 ? `<div class="video-library-container">` : ''}

          <div class="vp-single-container">

            <div class="vp-single-inner">
              ${el.id === 1
                ?
                  `<iframe class="vid-iframe" data-id="vid-id-${el.id}" src="${el.url}" allowfullscreen="allowfullscreen"></iframe>` 
                : 
                  `<img src="${el.imageURL}" class="vid-img" data-id="vid-id-${el.id}">`
              }

              <div class="vp-text-container">
                <h4 class="vid-title" data-id="vid-id-${el.id}">${el.title}</h4>
                <p class="vid-desc">${el.description}</p>
              </div>
            </div>

          </div>

        ${el.id === 1 ? `</div>` : ''}
        ${i === videoData.length - 1 ? `</div>` : ''}
        
      `;
        
    });

    videoPlayerContainer.insertAdjacentHTML('afterbegin', videoPlayerTemplate);
  }

  buildVideoPlayerHTML();
    
    
  // Video Player Functionality //

  const featuredVideo = document.querySelector('.vp-single-container:first-of-type');
  const videoLibrary = document.querySelectorAll('.vp-single-container:not(:first-of-type)');
   
  // Get all video titles, descriptions, and video library images from the dom
  const videoTitles = [...document.querySelectorAll('.vid-title')];
  const videoDescriptions = [...document.querySelectorAll('.vid-desc')];
  const videoLibraryImages = [...document.querySelectorAll('.vid-img')];
    
  // Get featured video titles, descriptions, iframes from the dom
  const featuredVideoTitle = featuredVideo.querySelector('.vid-title');
  const featuredVideoDescription = featuredVideo.querySelector('.vid-desc');
  const featuredVideoIframe = featuredVideo.querySelector('.vid-iframe');
    
  // Get video library titles and full descriptions
  const videoLibraryTitles = videoTitles.filter(title => title !== videoTitles[0]);
  const videoLibraryDescriptions = videoDescriptions.filter(description => description !== videoDescriptions[0]);
    
  // Set description excerpt for video library items (shorten full descriptions)
  videoLibraryDescriptions.forEach((description, i) =>{
     description.textContent = (description.textContent).substr(0, 100) + '...';
  });
    
  // Get all elements that allow you to select a new video to play
  const allClickToChooseVideoElements = [...videoLibraryTitles, ...videoLibraryImages];
    
  // Click functionality for video library elements
  $(allClickToChooseVideoElements).on('click', function(){
    videoData.forEach((el, i) => {
      if('vid-id-' + el.id === $(this).attr('data-id')) {
        featuredVideoIframe.src = el.url;
        featuredVideoTitle.textContent = el.title;
        featuredVideoDescription.textContent = el.description;
      }
    })
  });
  
    
    
    

  // Variables
//  var videoPopup1 = document.getElementById('vid-popup-1');
//  var videoPopupImg2 = document.getElementById('vid-popup-2');
//  var videoPopupImg3 = document.getElementById('vid-popup-3');
//  var videoPopupImg4 = document.getElementById('vid-popup-4');
//  var videoPopupImg5 = document.getElementById('vid-popup-5');
//
//  var videoPopups = document.querySelectorAll('.image-popup-vid');
//
//  var videoTitleFirst = document.querySelector('.vid-title-first');
//  var videoTitles = document.querySelectorAll('.vid-title');
//  var videoDescriptionsFirst = document.querySelector('.vid-desc-first');
//  var videoDescriptions = document.querySelectorAll('.vid-desc');
//
//  var videoDescriptionsTextArray = [];
//
//  // Build above array of full video descriptions (unshortened strings)
//  for (var i = 0; i < videoDescriptions.length; i++) {
//    videoDescriptionsTextArray.push(videoDescriptions[i].textContent);
//  }
//
//  // Functions
//  var setVideoTitleDesc = function(arrayPosition) {
//    videoTitleFirst.textContent = videoTitles[arrayPosition].textContent;
//    videoDescriptionsFirst.textContent = videoDescriptionsTextArray[arrayPosition];
//  }
//
//  var removeVideoActive = function() {
//    for(var i = 0; i < videoPopups.length; i++) {
//      videoPopups[i].classList.remove('video-active');
//    }
//  }
//
//  // Logic and Functionality
//    // Set description excerpt and excerpt length
//  for (var i = 0; i < videoDescriptions.length; i++) {
//    videoDescriptions[i].textContent = (videoDescriptions[i].textContent).substr(0, 100) + '...';
//  }
//
//  // Set start video value
//  videoPopup1.src = 'https://www.youtube.com/embed/T27VErvS1L0';
//  setVideoTitleDesc(0);
//
//  // Videos "on deck"
//  videoPopupImg2.addEventListener('click', function() {
//    videoPopup1.src = 'https://www.youtube.com/embed/T27VErvS1L0';
//    setVideoTitleDesc(0);
//    removeVideoActive();
//    videoPopupImg2.classList.add('video-active');
//  });
//
//  videoPopupImg3.addEventListener('click', function() {
//    videoPopup1.src = 'https://www.youtube.com/embed/P5aLvIlhA0A';
//    setVideoTitleDesc(1);
//    removeVideoActive();
//    videoPopupImg3.classList.add('video-active');
//  });
//
//  videoPopupImg4.addEventListener('click', function() {
//    videoPopup1.src = 'https://www.youtube.com/embed/KDWATjZf8io';
//    setVideoTitleDesc(2);
//    removeVideoActive();
//    videoPopupImg4.classList.add('video-active');
//  });
//
//  videoPopupImg5.addEventListener('click', function() {
//    videoPopup1.src = 'https://www.youtube.com/embed/KDWATjZf8io';
//    setVideoTitleDesc(3);
//    removeVideoActive();
//    videoPopupImg5.classList.add('video-active');
//  });

  </script>
    
</body>
</html>